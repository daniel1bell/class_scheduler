<h2>GA Locations</h2>
<%= button_to 'Add New Location', new_location_path, method: :get, class: 'btn btn-default btn-xs' %>

<section id='locations'>
  <% @locations.each do |location| %>
  <div class='location_port'>
    
    <h3><%= location.name %></h3>

    <% location.classrooms.each do |classroom| %>
    <div class='location_classroom_port'>
      <h4><%= classroom.name %></h4>
      <p>Capacity: <%= classroom.capacity %></p>
      <p>Facilities: <%= classroom.facilities %></p>

      <button class='btn btn-default btn-xs'>Show Availability</button>
      <%= button_to 'Edit', edit_location_classroom_path(location, classroom), method: :get, class: 'btn btn-default btn-xs' %>
      <%= button_to 'Delete', [location, classroom], method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-danger btn-xs' %>
    </div>
    <% end %>

    <%= button_to 'Add Classroom', new_location_classroom_path(location), method: :get, class: 'btn btn-default btn-xs' %>
    <%= button_to 'Edit', edit_location_path(location), method: :get, class: 'btn btn-default btn-xs' %>
    <%= button_to 'Delete', location, method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-danger btn-xs' %>

  </div>
  <% end %>
</section>

<h2>GA Courses</h2>
<%= button_to 'Add New Course', new_course_path, method: :get, class: 'btn btn-default btn-xs' %>

<section id='locations'>
  <% @courses.each do |course| %>
  <div class='location_port'>

    <h3><%= course.name %></h3>
    <p>Duration: <%= course.duration_weeks %> weeks</p>
    <p>Price: <%= number_to_currency(course.price, unit: "Â£") %> </p>
    <p>Minimum Instructors: <%= course.instructors_req %></p>

    <% course.cohorts.each do |cohort| %>
    <div class='course_cohort_port'>
      <h4><%= cohort.name %></h4>
      <p>Start Date: <%= cohort.start_date %></p>
      <p>Assigned Instructors: <%= cohort.instructors.count %></p>
      <p>Enrolled Students: <%= cohort.students.count %></p>
    </div>
    <% end %>

  </div>
  <% end %>
</section>
